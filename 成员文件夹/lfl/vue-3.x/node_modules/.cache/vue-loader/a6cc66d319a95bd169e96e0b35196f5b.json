{"remainingRequest":"/Users/LiFulian/Desktop/ForumProject/成员文件夹/lfl/vue-3.x/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/LiFulian/Desktop/ForumProject/成员文件夹/lfl/vue-3.x/src/components/SignIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/LiFulian/Desktop/ForumProject/成员文件夹/lfl/vue-3.x/src/components/SignIn.vue","mtime":1563896394000},{"path":"/Users/LiFulian/Desktop/ForumProject/成员文件夹/lfl/vue-3.x/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LiFulian/Desktop/ForumProject/成员文件夹/lfl/vue-3.x/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/LiFulian/Desktop/ForumProject/成员文件夹/lfl/vue-3.x/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LiFulian/Desktop/ForumProject/成员文件夹/lfl/vue-3.x/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport md5 from 'js-md5'\nimport axios from 'axios'//引入后，可以使用get，post(推荐)\n\n// sign in是登录\nexport default {\n  data(){\n    return{\n      remember:[],\n      phone:\"\",\n      password1:'',\n    }\n  },\n  methods:{\n    signIn(){\n \n\n\n      //先验证用户名（手机号）密码是否正确。\n      axios.get(\"http://localhost:3000/users?phone=\"+this.phone+\"&password=\"+md5(this.password1))\n      .then((data)=>{\n          if(data.data.length == 0){//密码错误\n           console.log(\"密码错误\")\n           this.$store.dispatch('alert',\"您的密码或手机号错误\")//进行alert提醒\n          }else{//密码正确请求获得该账号的用户名进行展示，和如果remember后存cookie，进行登录\n            console.log(\"密码正确\")\n            if(this.remember.length==1){//用户勾选remember\n              this.$cookies.set('username',data.data.username,3600*24*10);\n            }\n            console.log(data);\n          this.$store.commit('signIn',data.data[0].username);//改变为登录状态(右侧)\n          this.$router.push({path:'/'});\n          };\n      \n      \n      })\n    }  \n  }\n};\n",{"version":3,"sources":["SignIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA","file":"SignIn.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <form>\n    <!-- 登录，用户手机号 -->\n    <div class=\"input-group\">\n      <span class=\"input-group-addon\" id=\"basic-addon1\">\n        <span class=\"glyphicon glyphicon-user\" aria-hidden=\"true\"></span>\n      </span>\n      <input\n        v-model=\"phone\"\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"请输入手机号\"\n        aria-describedby=\"basic-addon1\"\n        required\n      />\n    </div>\n    <!-- 登录，用户密码 -->\n    <div class=\"input-group\">\n      <span class=\"input-group-addon\" id=\"basic-addon1\">\n        <span class=\"glyphicon glyphicon-lock\" aria-hidden=\"true\"></span>\n      </span>\n      <input\n        v-model=\"password1\"\n        type=\"password\"\n        id=\"inputPassword\"\n        class=\"form-control\"\n        placeholder=\"请输入密码\"\n        required\n      />\n    </div>\n\n    <div class=\"checkbox\">\n      <!-- <label> -->\n      <input type=\"checkbox\" v-model=\"remember\" value=\"remember\" />记住密码\n      <!-- </label> -->\n    </div>\n    <button v-on:click.prevent=\"signIn\" class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登录</button>\n  </form>\n</template>\n\n<script>\nimport md5 from 'js-md5'\nimport axios from 'axios'//引入后，可以使用get，post(推荐)\n\n// sign in是登录\nexport default {\n  data(){\n    return{\n      remember:[],\n      phone:\"\",\n      password1:'',\n    }\n  },\n  methods:{\n    signIn(){\n \n\n\n      //先验证用户名（手机号）密码是否正确。\n      axios.get(\"http://localhost:3000/users?phone=\"+this.phone+\"&password=\"+md5(this.password1))\n      .then((data)=>{\n          if(data.data.length == 0){//密码错误\n           console.log(\"密码错误\")\n           this.$store.dispatch('alert',\"您的密码或手机号错误\")//进行alert提醒\n          }else{//密码正确请求获得该账号的用户名进行展示，和如果remember后存cookie，进行登录\n            console.log(\"密码正确\")\n            if(this.remember.length==1){//用户勾选remember\n              this.$cookies.set('username',data.data.username,3600*24*10);\n            }\n            console.log(data);\n          this.$store.commit('signIn',data.data[0].username);//改变为登录状态(右侧)\n          this.$router.push({path:'/'});\n          };\n      \n      \n      })\n    }  \n  }\n};\n</script>"]}]}